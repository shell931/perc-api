# PERC API

Service to __SERVICE_SUMMARY__.

## SETUP

### SETUP YOUR VENV

```bash
# linux
python -m venv venv
source venv/bin/activate
```

### INSTALL REQUIREMENTS ON YOUR VENV

```bash
pip install --ignore-installed --no-cache-dir -r requirements.txt
```

## RESOURCES

ENDPOINT | METH
--|--
`/api/v1/PercServices/CreateUser/` | `POST`
`/api/v1/PercServices/GetAllUser/` | `GET`
`/api/v1/PercServices/SearchUsers/` | `POST`


### DOCKERFILE
There are two dockerfiles.
Dockerfile.dev is used by docker-compose.yml and is used to develop because it allows hot reload
Dockerfile will be used in dev, stage and prod environments

### RUN MICROSERVICE WITH DOCKER COMPOSE
```bash
#We first create the network. It will allow to communicate our microservices running from different docker-compose files
docker network create ccp
# to build
docker-compose up --build
# To run in detached mode
docker-compose up -d
# To view logs
docker compose logs -f
#To view running containers
docker ps
#To enter into a specific running container
docker exec -it {containerId} bash
#To destroy created docker components
docker compose down 
```

### GENERATE PROTOBUFS
```bash
python -m grpc_tools.protoc -I src/recommendations/protobufs/ --python_out=src/recommendations/ --grpc_python_out=src/recommendations/ src/recommendations/protobufs/recommendations.proto

#Fix to convert the absolute imports generated by protoc to relative imports
#We use the library: https://pypi.org/project/protoletariat/
protol   --create-package   --in-place   --python-out src/recommendations/ protoc --proto-path=src/recommendations/protobufs/ src/recommendations/protobufs/*.proto

#We run both commands using the Makefile command:
make proto-recommendations
```

# ACKNOWLEDGMENTS

Thanks to all Perc team.

---

* Powered by [Carlos Arriero](mailto:carlos.arriero931@gmail.com) ðŸ˜Ž
